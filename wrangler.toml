# wrangler.toml
name = 'coastlinesprayfoam'
main = "index.html"
compatibility_date = "2024-12-15"

[env.production]
name = "coastlinesprayfoam"
route = { pattern = "coastlinesprayfoam.com/*", zone_name = "coastlinesprayfoam.com" }

[env.staging]
name = "coastlinesprayfoam-staging"

# Performance optimizations
[minify]
html = true
css = true
js = true

# Security headers
[headers]
"/*" = [
  { name = "X-Content-Type-Options", value = "nosniff" },
  { name = "X-Frame-Options", value = "DENY" },
  { name = "X-XSS-Protection", value = "1; mode=block" },
  { name = "Referrer-Policy", value = "strict-origin-when-cross-origin" },
  { name = "Permissions-Policy", value = "geolocation=(), microphone=(), camera=()" }
]

# Redirects for SEO
[[redirects]]
from = "https://www.coastlinesprayfoam.com/*"
to = "https://coastlinesprayfoam.com/:splat"
status = 301

[[redirects]]
from = "http://coastlinesprayfoam.com/*"
to = "https://coastlinesprayfoam.com/:splat"
status = 301

[[redirects]]
from = "http://www.coastlinesprayfoam.com/*"
to = "https://coastlinesprayfoam.com/:splat"
status = 301